<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1"
    />
    <title>Backlog Quick Add</title>
    <link
      rel="stylesheet"
      href="vendor/select2.min.css"
    />
    <style>
      :root {
        color-scheme: light dark;
      }
      body {
        font-family:
          system-ui,
          -apple-system,
          Segoe UI,
          sans-serif;
        margin: 0;
      }
      body {
        font-family: system-ui;
        padding: 12px;
      }
      /* ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒ¢ãƒ¼ãƒ‰: å¹…ãŒç‹­ã„å ´åˆã¯é©åˆ‡ãªå¹…ã‚’è¨­å®š */
      html.popup-mode {
        min-width: 500px;
        max-width: 600px;
        width: 500px;
      }
      body.popup-mode {
        min-width: 500px;
        max-width: 600px;
        width: 100%;
        box-sizing: border-box;
      }
      /* ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒ¢ãƒ¼ãƒ‰: ä¸»è¦ãªã‚³ãƒ³ãƒ†ãƒŠè¦ç´ ã«ã‚‚å¹…ã‚’ç¢ºä¿ */
      body.popup-mode header,
      body.popup-mode #contentArea {
        min-width: 0;
        width: 100%;
        box-sizing: border-box;
      }
      /* ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ«ãƒ¢ãƒ¼ãƒ‰: å¹…ã¯åˆ¶é™ã—ãªã„ */
      html:not(.popup-mode),
      body:not(.popup-mode) {
        min-width: auto;
        max-width: none;
        width: auto;
      }
      /* é€šå¸¸å…¥åŠ›ã¨åŒã˜è¦‹ãŸç›®ã«ã™ã‚‹ */
      .select2-container--default .select2-selection--single {
        height: 35px; /* ä»–inputã¨åˆã‚ã›ã‚‹ */
        border: 1px solid rgba(127, 127, 127, 0.35); /* é€šå¸¸inputã¨åŒã˜ */
        border-radius: 10px; /* åŒã˜radius */
        padding: 8px 10px;
        display: flex;
        align-items: center;
      }

      /* ãƒ†ã‚­ã‚¹ãƒˆä½ç½®èª¿æ•´ */
      .select2-container--default .select2-selection__rendered {
        line-height: normal;
        padding-left: 0;
      }

      /* çŸ¢å°ä½ç½®èª¿æ•´ */
      .select2-container--default
        .select2-selection--single
        .select2-selection__arrow {
        height: 100%;
      }

      /* ã‚¯ãƒªã‚¢ãƒœã‚¿ãƒ³ï¼ˆâœ•ï¼‰ã®ã‚¹ã‚¿ã‚¤ãƒ«èª¿æ•´ */
      .select2-container--default .select2-selection__clear {
        font-size: 18px;
        line-height: 1;
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 8px;
        cursor: pointer;
        opacity: 0.6;
        transition: opacity 0.2s;
      }

      .select2-container--default .select2-selection__clear:hover {
        opacity: 1;
      }

      /* ã‚¯ãƒªã‚¢ãƒœã‚¿ãƒ³ã‚’çŸ¢å°ã®å·¦ã«é…ç½® */
      .select2-container--default .select2-selection--single {
        position: relative;
      }

      .select2-container--default .select2-selection--single .select2-selection__rendered {
        padding-right: 60px; /* ã‚¯ãƒªã‚¢ãƒœã‚¿ãƒ³ã¨çŸ¢å°ã®ã‚¹ãƒšãƒ¼ã‚¹ã‚’ç¢ºä¿ */
      }

      .select2-container--default .select2-selection--single .select2-selection__clear {
        position: absolute;
        right: 30px; /* çŸ¢å°ã®å·¦ã«é…ç½® */
        top: 50%;
        transform: translateY(-50%);
      }

      header {
        padding: 12px 14px;
        border-bottom: 1px solid rgba(127, 127, 127, 0.25);
      }
      header h1 {
        font-size: 14px;
        margin: 0 0 4px;
      }
      header p {
        font-size: 12px;
        margin: 0;
        opacity: 0.75;
      }
      main {
        padding: 12px 14px;
        display: grid;
        gap: 10px;
      }
      label {
        font-size: 12px;
        opacity: 0.85;
        display: grid;
        gap: 6px;
      }
      input,
      select,
      textarea,
      button {
        width: 100%;
        box-sizing: border-box;
        padding: 8px 10px;
        border-radius: 10px;
        border: 1px solid rgba(127, 127, 127, 0.35);
        background: transparent;
        font-size: 13px;
      }
      textarea {
        min-height: 96px;
        resize: vertical;
      }
      .row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 8px;
      }
      .hint {
        font-size: 12px;
        opacity: 0.75;
      }
      .pill {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 6px 10px;
        border-radius: 999px;
        border: 1px solid rgba(127, 127, 127, 0.35);
        font-size: 12px;
        opacity: 0.9;
      }
      .pills {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
      }
      .actions {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 8px;
        margin-top: 6px;
      }
      button {
        cursor: pointer;
      }
      button.primary {
        border: none;
      }
      .muted {
        opacity: 0.7;
      }
      .divider {
        height: 1px;
        background: rgba(127, 127, 127, 0.25);
        margin: 6px 0;
      }
    </style>
    <style>
      .editorCard {
        border: 1px solid rgba(0, 0, 0, 0.15);
        border-radius: 10px;
        overflow: hidden;
        background: #fff;
      }
      .editorMain {
        padding: 10px;
      }
      .editorTextarea {
        width: 100%;
        min-height: 240px;
        resize: vertical;
        border: 1px solid rgba(0, 0, 0, 0.15);
        border-radius: 8px;
        padding: 10px;
        font-size: 13px;
        box-sizing: border-box;
      }
      .editorPreview {
        width: 100%;
        min-height: 240px;
        border: 1px solid rgba(0, 0, 0, 0.15);
        border-radius: 8px;
        padding: 10px;
        box-sizing: border-box;
        overflow: auto;
        background: #fafafa;
        font-size: 13px;
      }
      /* ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã®è£…é£¾ */
      .editorPreview ul li:has(input[type="checkbox"]),
      .editorPreview ol li:has(input[type="checkbox"]) {
        list-style: none;
        margin-left: -1.5em;
        display: flex;
        align-items: flex-start;
        gap: 8px;
      }
      .editorPreview ul li:has(input[type="checkbox"]) input[type="checkbox"],
      .editorPreview ol li:has(input[type="checkbox"]) input[type="checkbox"] {
        appearance: none;
        -webkit-appearance: none;
        width: 16px !important;
        max-width: 16px !important;
        height: 16px;
        min-width: 16px;
        margin: 2px 0 0;
        padding: 0;
        border: 1.5px solid rgba(0, 0, 0, 0.4);
        border-radius: 3px;
        background: #fff;
        flex-shrink: 0;
        box-sizing: border-box;
      }
      .editorPreview
        ul
        li:has(input[type="checkbox"])
        input[type="checkbox"]:checked,
      .editorPreview
        ol
        li:has(input[type="checkbox"])
        input[type="checkbox"]:checked {
        background-color: #1976d2;
        border-color: #1976d2;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12'%3E%3Cpath fill='none' stroke='white' stroke-width='2' d='M2 6l3 3 5-6'/%3E%3C/svg%3E");
        background-size: 10px 10px;
        background-position: center;
        background-repeat: no-repeat;
      }
      /* è¡¨ã®è£…é£¾ */
      .editorPreview table {
        border-collapse: collapse;
        width: 100%;
        margin: 8px 0;
      }
      .editorPreview th,
      .editorPreview td {
        border: 1px solid rgba(0, 0, 0, 0.2);
        padding: 6px 10px;
        text-align: left;
      }
      .editorPreview th {
        background: rgba(0, 0, 0, 0.06);
        font-weight: 600;
      }
      .editorPreview tr:nth-child(even) td {
        background: rgba(0, 0, 0, 0.02);
      }
      /* è¦‹å‡ºã—ã®ã‚¹ã‚¿ã‚¤ãƒ« */
      .editorPreview h1 {
        font-size: 1.8rem;
        line-height: 2.4rem;
        padding: 8px 0 6px;
        border-bottom: solid 3px #4caf93;
      }
      .editorPreview h2 {
        font-size: 1.5rem;
        line-height: 2.1rem;
        padding: 6px 0;
        border-bottom: solid 1px #4caf93;
      }
      .editorPreview h3 {
        font-size: 1.25rem;
        line-height: 1.8rem;
      }
      .editorPreview h4 {
        font-size: 1.1rem;
        line-height: 1.6rem;
      }
      .editorPreview h5 {
        font-size: 1.05rem;
        line-height: 1.5rem;
      }
      .editorPreview h6 {
        font-size: 1rem;
        line-height: 1.4rem;
      }
      .editorToolbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 8px;
        border-top: 1px solid rgba(0, 0, 0, 0.1);
        padding: 8px 10px;
        background: #f7f7f7;
      }
      .toolbarLeft,
      .toolbarRight {
        display: flex;
        gap: 6px;
        flex-wrap: wrap;
        align-items: center;
      }
      .tb {
        border: 1px solid rgba(0, 0, 0, 0.18);
        background: #fff;
        border-radius: 8px;
        padding: 6px 8px;
        cursor: pointer;
        font-size: 13px;
        line-height: 1;
      }
      .tb:active {
        transform: translateY(1px);
      }
      .previewBtn {
        padding: 6px 10px;
      }
      .fileDropZone {
        border: 2px dashed rgba(127, 127, 127, 0.4);
        border-radius: 8px;
        padding: 16px;
        background: rgba(127, 127, 127, 0.05);
        text-align: center;
        transition:
          border-color 0.2s,
          background 0.2s;
      }
      .fileDropZone.dragover {
        border-color: rgba(0, 120, 200, 0.5);
        background: rgba(0, 120, 200, 0.05);
      }
      .fileDropZoneText {
        font-size: 13px;
        color: rgba(0, 0, 0, 0.7);
        margin-bottom: 8px;
      }
      .fileDropZoneHint {
        font-size: 11px;
        color: rgba(0, 0, 0, 0.5);
        margin-bottom: 10px;
      }
      .fileSelectBtn {
        padding: 6px 12px;
        border: 1px solid rgba(127, 127, 127, 0.4);
        border-radius: 6px;
        background: #fff;
        color: #0078c8;
        font-size: 13px;
        cursor: pointer;
      }
      .fileSelectBtn:hover {
        background: rgba(0, 120, 200, 0.05);
      }
      .fileList {
        margin-top: 10px;
        display: flex;
        flex-direction: column;
        gap: 6px;
      }
      .fileItem {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 8px 10px;
        border: 1px solid rgba(0, 0, 0, 0.12);
        border-radius: 8px;
        font-size: 12px;
        background: #fff;
      }
      .fileItemName {
        flex: 1;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }
      .fileItemRemove {
        width: 24px;
        height: 24px;
        border: none;
        background: transparent;
        cursor: pointer;
        border-radius: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 16px;
        line-height: 1;
        color: rgba(0, 0, 0, 0.5);
        flex-shrink: 0;
      }
      .fileItemRemove:hover {
        background: rgba(0, 0, 0, 0.08);
        color: #c00;
      }

      .mentionMenu {
        position: fixed; /* â† absolute ã ã¨è¦ªè¦ç´ æ¬¡ç¬¬ã§å¤‰ã«ãªã‚‹ã®ã§ fixed ãŒå®‰å®š */
        z-index: 999999;
        width: min(360px, calc(100vw - 24px));
        max-height: 280px;
        overflow: auto;
        background: #fff;
        border: 1px solid rgba(0, 0, 0, 0.18);
        border-radius: 10px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
        padding: 6px;
      }

      .mentionItem {
        display: flex;
        gap: 10px;
        align-items: center;
        padding: 8px 10px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 13px;
      }

      .mentionItem.active {
        background: #eef3ff;
      }
      .mentionText {
        display: flex;
        flex-direction: column;
      }
      .mentionName {
        font-weight: 600;
      }
      .mentionSub {
        font-size: 12px;
        opacity: 0.7;
      }
      .mentionHeader {
        padding: 6px 10px 4px;
        font-size: 11px;
        font-weight: 600;
        color: rgba(0, 0, 0, 0.55);
      }

      .editorToolbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 8px;
      }

      .toolbarLeft,
      .toolbarRight {
        display: flex;
        flex-direction: row; /* ã“ã‚Œé‡è¦ */
        align-items: center;
        gap: 6px;
        flex-wrap: wrap; /* å¹…ãŒè¶³ã‚Šãªã„ã¨2æ®µã«ãªã‚‹ */
      }

      .tb {
        display: inline-flex !important; /* blockåŒ–ã‚’æ½°ã™ */
        align-items: center;
        justify-content: center;
        width: 32px;
        min-width: 32px;
        height: 32px;
        padding: 0;
        line-height: 1;
      }
      .tb.previewBtn {
        width: auto;
        min-width: auto;
        padding: 6px 10px;
      }

      .mentionAvatar,
      .mentionAvatarWrap {
        width: 22px;
        height: 22px;
        border-radius: 50%;
        background: #dfe6ee;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        font-weight: 700;
        color: #4b5563;
        flex: 0 0 auto;
      }
      .mentionAvatarImg {
        width: 22px;
        height: 22px;
        border-radius: 50%;
        object-fit: cover;
      }

      .apiSetupCard {
        padding: 20px 14px;
        margin: 0 14px;
        display: grid;
        gap: 12px;
      }
      .apiSetupTitle {
        font-size: 18px;
        margin: 0 0 16px;
        font-weight: 600;
      }
      .apiSetupSection {
        margin-bottom: 8px;
      }
      .apiSetupSection h3 {
        font-size: 14px;
        margin: 0 0 8px;
        font-weight: 600;
      }
      .apiSetupRow {
        display: flex;
        gap: 8px;
        align-items: stretch;
      }
      .apiSetupRow label {
        flex: 1;
        min-width: 0;
      }
      .apiSetupRow label:last-child {
        flex: 0 0 auto;
        width: 140px;
      }
      .apiSetupRow .apiSetupDotWrap {
        flex-shrink: 0;
        height: 34px;
        display: flex;
        align-items: center;
        align-self: flex-end;
        opacity: 0.6;
      }
      .apiSetupRow .apiSetupDot {
        line-height: 1;
      }
      .apiSetupDesc {
        font-size: 12px;
        margin: 0 0 8px;
        opacity: 0.85;
      }
      .apiKeyError {
        font-size: 12px;
        color: #c00;
        margin: 0;
      }
      /* åˆå›è¡¨ç¤ºæ™‚ã€APIã‚­ãƒ¼æœªè¨­å®šã®é–“ã¯ã‚¿ã‚¹ã‚¯ãƒ•ã‚©ãƒ¼ãƒ ã‚’ç¢ºå®Ÿã«éè¡¨ç¤º */
      #mainForm.hide-until-ready {
        display: none !important;
      }
      .topNotification {
        padding: 10px 14px;
        margin: 12px 14px 10px;
        border-radius: 8px;
        font-size: 13px;
      }
      .topNotification.success {
        background: #e8f5e9;
        color: #2e7d32;
      }
      .topNotification.error {
        background: #ffebee;
        color: #c62828;
      }
      @media (prefers-color-scheme: dark) {
        .topNotification.success {
          background: rgba(46, 125, 50, 0.3);
          color: #81c784;
        }
        .topNotification.error {
          background: rgba(198, 40, 40, 0.3);
          color: #e57373;
        }
      }
      .topNotification a {
        color: inherit;
        text-decoration: underline;
      }
      .btnSubmit {
        background: #1976d2 !important;
        color: #fff !important;
        border: none !important;
      }
      .btnSubmit:hover:not(:disabled) {
        background: #1565c0 !important;
      }
      .settingsPanel {
        padding: 14px;
      }
      .settingsSection {
        margin-bottom: 16px;
      }
      .settingsSection h3 {
        font-size: 13px;
        margin: 0 0 8px;
      }
      .settingsPanelTitle {
        font-size: 18px;
        font-weight: 600;
        margin: 0 0 20px;
      }
      .settingsGroupTitle {
        font-size: 14px;
        font-weight: 600;
        margin: 24px 0 8px;
        border-top: 1px solid rgba(127, 127, 127, 0.25);
        padding-top: 16px;
      }
      .settingsRow {
        display: flex;
        align-items: center;
        gap: 8px;
        margin: 6px 0;
        font-size: 13px;
      }
      .settingsRow input[type="checkbox"] {
        width: auto;
      }
      .settingsApiKeyForm {
        margin-top: 12px;
        padding-top: 12px;
        border-top: 1px solid rgba(127, 127, 127, 0.25);
        display: grid;
        gap: 10px;
      }
      .settingsApiKeyForm[hidden] {
        display: none !important;
      }
      .contentArea {
        flex: 1;
        overflow: auto;
      }
      /* è¨­å®šç”»é¢è¡¨ç¤ºæ™‚ã¯ã‚¿ã‚¹ã‚¯ãƒ•ã‚©ãƒ¼ãƒ ç­‰ã‚’å®Œå…¨ã«éè¡¨ç¤º */
      body.settings-visible #mainForm,
      body.settings-visible #apiSetup,
      body.settings-visible #topNotification {
        display: none !important;
      }
      body {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }

      /* ---- ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ (Select2 / ãƒªãƒƒãƒã‚¨ãƒ‡ã‚£ã‚¿ / ã‚µã‚¸ã‚§ã‚¹ãƒˆ) ---- */
      /* Select2 é¸æŠçŠ¶æ…‹ã®æ–‡å­—è‰²ï¼ˆãƒ¡ãƒ‡ã‚£ã‚¢ã‚¯ã‚¨ãƒªãŒåŠ¹ã‹ãªã„ç’°å¢ƒã§ã‚‚ .dark-mode ã§é©ç”¨ï¼‰ */
      html.dark-mode .select2-container--default .select2-selection__rendered,
      html.dark-mode .select2-container--default .select2-selection--single .select2-selection__rendered {
        color: rgba(255, 255, 255, 0.95) !important;
      }
      @media (prefers-color-scheme: dark) {
        /* Select2 ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ»æ¤œç´¢ãƒ»çµæœ */
        .select2-dropdown {
          background-color: #2d2d2d;
          border-color: rgba(255, 255, 255, 0.2);
        }
        .select2-container--default .select2-selection--single {
          background-color: transparent;
          border-color: rgba(127, 127, 127, 0.35);
        }
        .select2-container--default .select2-selection__rendered {
          color: rgba(255, 255, 255, 0.95) !important;
        }
        .select2-container--default .select2-selection--single .select2-selection__rendered {
          color: rgba(255, 255, 255, 0.95) !important;
        }
        .select2-container--default .select2-selection__clear {
          color: rgba(255, 255, 255, 0.7) !important;
          font-size: 18px !important;
          line-height: 1 !important;
          width: 24px !important;
          height: 24px !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          margin-right: 8px !important;
          opacity: 0.6 !important;
        }
        .select2-container--default .select2-selection__clear:hover {
          color: rgba(255, 255, 255, 0.95) !important;
          opacity: 1 !important;
        }
        .select2-container--default .select2-selection__arrow b {
          border-color: rgba(255, 255, 255, 0.6) transparent transparent transparent;
        }
        .select2-container--default.select2-container--open .select2-selection__arrow b {
          border-color: transparent transparent rgba(255, 255, 255, 0.6) transparent;
        }
        .select2-search--dropdown .select2-search__field {
          background-color: #1e1e1e;
          border-color: rgba(255, 255, 255, 0.2);
          color: inherit;
        }
        .select2-results__option {
          color: rgba(255, 255, 255, 0.95);
        }
        .select2-container--default .select2-results__option[aria-selected=true] {
          background-color: rgba(255, 255, 255, 0.15);
          color: rgba(255, 255, 255, 0.95);
        }
        .select2-container--default .select2-results__option--highlighted[aria-selected] {
          background-color: #1976d2;
          color: #fff;
        }
        .select2-container--default .select2-results__option[aria-disabled=true] {
          color: rgba(255, 255, 255, 0.4);
        }
        .select2-container--default .select2-results__group {
          color: rgba(255, 255, 255, 0.7);
        }
        /* ç„¡åŠ¹åŒ–çŠ¶æ…‹ã®æ‹…å½“è€…ã‚»ãƒ¬ã‚¯ãƒˆï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæœªé¸æŠæ™‚ï¼‰ */
        .select2-container--default.select2-container--disabled .select2-selection--single {
          background-color: rgba(255, 255, 255, 0.06) !important;
          border-color: rgba(127, 127, 127, 0.25) !important;
        }
        .select2-container--default.select2-container--disabled .select2-selection--single .select2-selection__rendered,
        .select2-container--default.select2-container--disabled .select2-selection--single .select2-selection__placeholder {
          color: rgba(255, 255, 255, 0.45) !important;
        }
        .select2-container--default.select2-container--disabled .select2-selection--single .select2-selection__arrow b {
          border-color: rgba(255, 255, 255, 0.35) transparent transparent transparent !important;
        }

        /* ãƒªãƒƒãƒã‚¨ãƒ‡ã‚£ã‚¿ */
        .editorCard {
          border-color: rgba(255, 255, 255, 0.15);
          background: #2d2d2d;
        }
        .editorTextarea {
          border-color: rgba(255, 255, 255, 0.15);
          background: #1e1e1e;
          color: inherit;
        }
        .editorPreview {
          border-color: rgba(255, 255, 255, 0.15);
          background: #1e1e1e;
          color: inherit;
        }
        .editorPreview ul li:has(input[type="checkbox"]) input[type="checkbox"],
        .editorPreview ol li:has(input[type="checkbox"]) input[type="checkbox"] {
          border-color: rgba(255, 255, 255, 0.4);
          background: #2d2d2d;
        }
        .editorPreview th,
        .editorPreview td {
          border-color: rgba(255, 255, 255, 0.2);
        }
        .editorPreview th {
          background: rgba(255, 255, 255, 0.08);
        }
        .editorPreview tr:nth-child(even) td {
          background: rgba(255, 255, 255, 0.03);
        }
        .editorToolbar {
          border-top-color: rgba(255, 255, 255, 0.1);
          background: #252525;
        }
        .editorToolbar .tb {
          color: rgba(255, 255, 255, 0.9);
        }
        .editorToolbar .tb svg {
          fill: currentColor;
        }
        .tb {
          border-color: rgba(255, 255, 255, 0.18);
          background: #2d2d2d;
          color: inherit;
        }
        .fileDropZone {
          border-color: rgba(255, 255, 255, 0.25);
          background: rgba(255, 255, 255, 0.03);
        }
        .fileDropZone.dragover {
          border-color: rgba(25, 118, 210, 0.6);
          background: rgba(25, 118, 210, 0.08);
        }
        .fileDropZoneText {
          color: rgba(255, 255, 255, 0.8);
        }
        .fileDropZoneHint {
          color: rgba(255, 255, 255, 0.5);
        }
        .fileSelectBtn {
          border-color: rgba(255, 255, 255, 0.25);
          background: #2d2d2d;
          color: #64b5f6;
        }
        .fileSelectBtn:hover {
          background: rgba(25, 118, 210, 0.15);
        }
        .fileItem {
          border-color: rgba(255, 255, 255, 0.12);
          background: #2d2d2d;
        }
        .fileItemRemove {
          color: rgba(255, 255, 255, 0.5);
        }
        .fileItemRemove:hover {
          background: rgba(255, 255, 255, 0.08);
          color: #f44336;
        }

        /* ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã‚µã‚¸ã‚§ã‚¹ãƒˆ */
        .mentionMenu {
          background: #2d2d2d;
          border-color: rgba(255, 255, 255, 0.18);
          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
        }
        .mentionItem.active {
          background: rgba(25, 118, 210, 0.25);
        }
        .mentionHeader {
          color: rgba(255, 255, 255, 0.6);
        }
        .mentionAvatar {
          background: #4b5563;
          color: rgba(255, 255, 255, 0.9);
        }
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Backlog ã‚¿ã‚¹ã‚¯ç™»éŒ²</h1>
      <p
        id="pageMeta"
        class="muted"
      >
        ã‚¿ã‚¹ã‚¯ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„
      </p>
      <p
        id="headerLinks"
        class="muted"
        style="font-size: 11px; margin-top: 4px"
        hidden
      >
        <a
          href="#"
          id="settingsLink"
          >è¨­å®š</a
        >
      </p>
    </header>

    <div
      id="contentArea"
      class="contentArea"
    >
      <div
        id="topNotification"
        class="topNotification"
        hidden
      ></div>

      <div
        id="apiSetup"
        hidden
      >
        <div class="apiSetupCard">
          <h2 class="apiSetupTitle" id="apiSetupTitle">åˆæœŸè¨­å®š</h2>

          <div class="apiSetupSection">
            <h3>ã‚¹ãƒšãƒ¼ã‚¹ID</h3>
            <div class="apiSetupRow">
              <label>
                ã‚¹ãƒšãƒ¼ã‚¹ID
                <input
                  id="backlogSpaceId"
                  type="text"
                  autocomplete="off"
                />
              </label>
              <span class="apiSetupDotWrap"><span class="apiSetupDot">.</span></span>
              <label>
                ãƒ‰ãƒ¡ã‚¤ãƒ³
                <select id="backlogDomain">
                  <option value="backlog.com">backlog.com</option>
                  <option value="backlog.jp">backlog.jp</option>
                  <option value="backlogtool.com">backlogtool.com</option>
                </select>
              </label>
            </div>
          </div>

          <div class="apiSetupSection">
            <h3>APIã‚­ãƒ¼</h3>
            <p class="apiSetupDesc">
              Backlog APIã‚­ãƒ¼ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚Backlogã®ã€Œå€‹äººè¨­å®šã€â†’ã€ŒAPIã€ã§å–å¾—ã§ãã¾ã™ã€‚
            </p>
            <label>
              APIã‚­ãƒ¼
              <input
                id="apiKeyInput"
                type="password"
                placeholder="APIã‚­ãƒ¼ã‚’å…¥åŠ›"
                autocomplete="off"
              />
            </label>
            <p id="apiKeyError" class="apiKeyError" hidden></p>
          </div>

          <button id="apiKeySave" class="primary btnSubmit">ä¿å­˜</button>
          <a
            href="#"
            id="apiKeyBack"
            class="muted"
            style="font-size: 12px; margin-top: 4px"
            hidden
            >â† æˆ»ã‚‹</a
          >
        </div>
      </div>

      <div
        id="settingsPanel"
        class="settingsPanel"
        hidden
      >
        <h1 class="settingsPanelTitle">è¨­å®š</h1>
        <div class="settingsGroup">
          <h2 class="settingsGroupTitle">ã‚ªãƒ—ã‚·ãƒ§ãƒ³</h2>
          <div class="settingsSection">
            <h3>é€ä¿¡å¾Œã®å‹•ä½œ</h3>
            <label class="settingsRow">
              <input
                type="checkbox"
                id="openTaskAfterSubmit"
              />
              é€ä¿¡å¾Œã€ä½œæˆã—ãŸBacklogã‚¿ã‚¹ã‚¯ã®ç”»é¢ã‚’é–‹ã
            </label>
            <label
              class="settingsRow"
              id="openInBackgroundRow"
              style="padding-left: 24px"
            >
              <input
                type="checkbox"
                id="openTaskInBackground"
              />
              ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§é–‹ã
            </label>
          </div>
          <div class="settingsSection">
            <h3>ãƒãƒƒãƒ—ãƒ‘ãƒãƒ«ã§é–‹ãï¼ˆArc ãƒ–ãƒ©ã‚¦ã‚¶æ¨å¥¨ï¼‰</h3>
            <p
              class="hint muted"
              style="margin: 0 0 8px"
            >
              æœ‰åŠ¹ã«ã™ã‚‹ã¨ã€ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ«ã§ã¯ãªããƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã§é–‹ãã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
            </p>
            <label class="settingsRow">
              <input
                type="checkbox"
                id="openInNewTab"
              />
              ãƒãƒƒãƒ—ãƒ‘ãƒãƒ«ã§é–‹ã
            </label>
          </div>
          <div class="settingsSection">
            <h3>ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼ï¼ˆGoogle Docs ç­‰ã§æ¨å¥¨ï¼‰</h3>
            <p
              class="hint muted"
              style="margin: 0 0 8px"
            >
              ãƒ†ã‚­ã‚¹ãƒˆã‚’é¸æŠã—ãŸçŠ¶æ…‹ã§ <kbd>Ctrl+Shift+B</kbd>ï¼ˆMac: <kbd>âŒ˜+Shift+B</kbd>ï¼‰ã‚’æŠ¼ã™ã¨ã€ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’ç¶­æŒã—ãŸã¾ã¾é–‹ããŸã‚é¸æŠãƒ†ã‚­ã‚¹ãƒˆãŒå–å¾—ã—ã‚„ã™ããªã‚Šã¾ã™ã€‚
            </p>
          </div>
        </div>

        <div class="settingsGroup">
          <h2 class="settingsGroupTitle">Backlogé€£æº</h2>
          <div class="settingsSection">
            <h3>APIã‚­ãƒ¼</h3>
            <p
              class="hint muted"
              style="margin: 0 0 8px"
            >
              Backlogã®ã€Œå€‹äººè¨­å®šã€â†’ã€ŒAPIã€ã§å–å¾—ã—ãŸã‚­ãƒ¼ã‚’è¨­å®šã—ã¾ã™ã€‚
            </p>
            <a
              href="#"
              id="settingsApiKeyChange"
              >APIã‚­ãƒ¼ã‚’å¤‰æ›´</a
            >
            <div
              id="settingsApiKeyForm"
              class="settingsApiKeyForm"
              hidden
            >
              <div class="apiSetupRow">
                <label>
                  ã‚¹ãƒšãƒ¼ã‚¹ID
                  <input
                    id="settingsBacklogSpaceId"
                    type="text"
                    placeholder="ã‚¹ãƒšãƒ¼ã‚¹IDã‚’å…¥åŠ›"
                    autocomplete="off"
                  />
                </label>
                <span class="apiSetupDotWrap"><span class="apiSetupDot">.</span></span>
                <label>
                  ãƒ‰ãƒ¡ã‚¤ãƒ³
                  <select id="settingsBacklogDomain">
                    <option value="backlog.com">backlog.com</option>
                    <option value="backlog.jp">backlog.jp</option>
                    <option value="backlogtool.com">backlogtool.com</option>
                  </select>
                </label>
              </div>
              <label>
                APIã‚­ãƒ¼
                <input
                  id="settingsApiKeyInput"
                  type="password"
                  placeholder="APIã‚­ãƒ¼ã‚’å…¥åŠ›"
                  autocomplete="off"
                />
              </label>
              <p
                id="settingsApiKeyError"
                class="apiKeyError"
                hidden
              ></p>
              <button
                type="button"
                id="settingsApiKeySave"
                class="primary btnSubmit"
              >
                ä¿å­˜
              </button>
            </div>
          </div>
          <div class="settingsSection">
            <h3>å–å¾—æƒ…å ±ã®æ›´æ–°</h3>
            <p
              id="cacheFetchedAt"
              class="hint muted"
              style="margin: 0 0 8px"
            >
              â€”
            </p>
            <button
              type="button"
              id="settingsRefreshProjects"
            >
              ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ»æ‹…å½“è€…æƒ…å ±ã®æ›´æ–°
            </button>
          </div>
        </div>

        <div class="settingsGroup">
          <h2 class="settingsGroupTitle">ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãƒ¢ãƒ¼ãƒ‰</h2>
          <div class="settingsSection">
            <h3>ãƒ•ã‚©ãƒ¼ãƒ ãƒ‡ãƒãƒƒã‚°</h3>
            <label class="settingsRow">
              <input
                type="checkbox"
                id="debugDryRun"
              />
              ã‚¿ã‚¹ã‚¯ç™»éŒ²APIã‚’é€ä¿¡ã›ãšãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡ºåŠ›
            </label>
          </div>
        </div>
        <button
          type="button"
          id="settingsBack"
        >
          â† æˆ»ã‚‹
        </button>
      </div>

      <main
        id="mainForm"
        class="hide-until-ready"
        hidden
        style="flex: 1"
      >
        <div class="pills">
          <span
            class="pill"
            id="aiStatus"
            >AIæ¨æ¸¬: é–‹ç™ºä¸­</span
          >
        </div>

        <label>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</label>
        <select
          id="project"
          style="width: 100%"
          tabindex="1"
        >
          <option></option>
        </select>

        <label>
          <input
            id="title"
            placeholder="ä»¶å"
            tabindex="2"
          />
        </label>

        <label>
          <!-- æœ¬æ–‡ -->
          <div class="editorCard">
            <div class="editorMain">
              <textarea
                id="description"
                class="editorTextarea"
                placeholder="èª²é¡Œã®è©³ç´°ï¼ˆ@ã‚’å…¥åŠ›ã—ã¦ãƒ¡ãƒ³ãƒãƒ¼ã«é€šçŸ¥ï¼‰"
                tabindex="3"
              ></textarea>
              <div
                id="preview"
                class="editorPreview"
                hidden
              ></div>
              <div
                id="mentionMenu"
                class="mentionMenu"
                hidden
              ></div>
            </div>

            <div class="editorToolbar">
              <!-- <div class="toolbarLeft">
              <button
                class="tb"
                data-md="attach"
                title="ãƒ•ã‚¡ã‚¤ãƒ«æ·»ä»˜"
              >
                ğŸ“
              </button>
              <button
                class="tb"
                data-md="mention"
                title="ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³"
              >
                @
              </button>
              <button
                class="tb"
                data-md="emoji"
                title="çµµæ–‡å­—"
              >
                ğŸ˜Š
              </button>
            </div> -->

              <div class="toolbarRight">
                <button
                  class="tb"
                  data-md="bold"
                  title="å¤ªå­—"
                >
                  <svg
                    width="20"
                    height="20"
                  >
                    <use xlink:href="images/sprite.symbol.svg#icon_bold"></use>
                  </svg>
                </button>
                <button
                  class="tb"
                  data-md="italic"
                  title="æ–œä½“"
                >
                  <svg
                    width="20"
                    height="20"
                  >
                    <use
                      xlink:href="images/sprite.symbol.svg#icon_italic"
                    ></use>
                  </svg>
                </button>
                <button
                  class="tb"
                  data-md="strike"
                  title="æ‰“ã¡æ¶ˆã—"
                >
                  <svg
                    width="20"
                    height="20"
                  >
                    <use
                      xlink:href="images/sprite.symbol.svg#icon_strike"
                    ></use>
                  </svg>
                </button>

                <button
                  class="tb"
                  data-md="ul"
                  title="ç®‡æ¡æ›¸ã"
                >
                  <svg
                    width="20"
                    height="20"
                  >
                    <use xlink:href="images/sprite.symbol.svg#icon_list"></use>
                  </svg>
                </button>
                <button
                  class="tb"
                  data-md="ol"
                  title="ç•ªå·ä»˜ã"
                >
                  <svg
                    width="20"
                    height="20"
                  >
                    <use
                      xlink:href="images/sprite.symbol.svg#icon_number_list"
                    ></use>
                  </svg>
                </button>
                <button
                  class="tb"
                  data-md="task"
                  title="ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ"
                >
                  <svg
                    width="20"
                    height="20"
                  >
                    <use
                      xlink:href="images/sprite.symbol.svg#icon_check_list"
                    ></use>
                  </svg>
                </button>

                <button
                  class="tb"
                  data-md="table"
                  title="è¡¨"
                >
                  <svg
                    width="20"
                    height="20"
                  >
                    <use xlink:href="images/sprite.symbol.svg#icon_table"></use>
                  </svg>
                </button>
                <button
                  class="tb"
                  data-md="quote"
                  title="å¼•ç”¨"
                >
                  <svg
                    width="20"
                    height="20"
                  >
                    <use xlink:href="images/sprite.symbol.svg#icon_quote"></use>
                  </svg>
                </button>
                <button
                  class="tb"
                  data-md="code"
                  title="ã‚³ãƒ¼ãƒ‰"
                >
                  <svg
                    width="20"
                    height="20"
                  >
                    <use xlink:href="images/sprite.symbol.svg#icon_code"></use>
                  </svg>
                </button>

                <button
                  class="tb"
                  data-md="link"
                  title="ãƒªãƒ³ã‚¯"
                >
                  <svg
                    width="20"
                    height="20"
                  >
                    <use xlink:href="images/sprite.symbol.svg#icon_link"></use>
                  </svg>
                </button>
                <button
                  class="tb"
                  data-md="help"
                  title="ãƒ˜ãƒ«ãƒ—"
                >
                  <svg
                    width="20"
                    height="20"
                  >
                    <use xlink:href="images/sprite.symbol.svg#icon_help"></use>
                  </svg>
                </button>

                <button
                  id="togglePreview"
                  class="tb previewBtn"
                >
                  ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
                </button>
              </div>
            </div>

            <!-- ãƒ•ã‚¡ã‚¤ãƒ«æ·»ä»˜ -->
            <div
              id="fileDropZone"
              class="fileDropZone"
            >
              <div class="fileDropZoneText">
                ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‰ãƒ©ãƒƒã‚° &
                ãƒ‰ãƒ­ãƒƒãƒ—ã™ã‚‹ã‹ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‹ã‚‰ç”»åƒã‚’è²¼ã‚Šä»˜ã‘ã—ã¦ãã ã•ã„
                ã¾ãŸã¯
              </div>
              <div class="fileDropZoneHint">
                ãƒ•ã‚¡ã‚¤ãƒ«è¿½åŠ  (Shiftã‚­ãƒ¼ã‚’æŠ¼ã—ãªãŒã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¤‡æ•°é¸æŠå¯èƒ½)
              </div>
              <button
                type="button"
                id="fileSelectBtn"
                class="fileSelectBtn"
              >
                ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ...
              </button>
            </div>
            <input
              id="fileInput"
              type="file"
              multiple
              hidden
            />
            <div
              id="fileList"
              class="fileList"
            ></div>
          </div>
        </label>

        <label style="margin-top: 10px">æ‹…å½“è€…</label>
        <select
          id="assignee"
          style="width: 100%"
          tabindex="4"
        >
          <option>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é¸æŠã—ã¦ãã ã•ã„</option>
        </select>
        <div class="row">
          <label>
            æœŸæ—¥
            <input
              id="due"
              type="date"
              tabindex="5"
            />
          </label>
        </div>

        <div class="divider"></div>

        <div
          class="hint"
          id="aiHint"
        >
          AIæ¨æ¸¬ã¯é–‹ç™ºä¸­ã§ã™ã€‚
        </div>

        <div class="actions">
          <button
            id="clear"
            tabindex="-1"
          >
            ã‚¯ãƒªã‚¢
          </button>
          <button
            id="submit"
            class="primary btnSubmit"
            tabindex="6"
          >
            é€ä¿¡
          </button>
        </div>
      </main>
    </div>
    <!-- /contentArea -->

    <script src="vendor/jquery.min.js"></script>
    <script src="vendor/select2.min.js"></script>
    <script src="vendor/marked.min.js"></script>
    <script src="vendor/purify.min.js"></script>
    <script src="sidepanel.js"></script>
  </body>
</html>
